Using ``xarray``
================

As of rex ``v0.2.99``, you can read `NREL data files <https://nrel.github.io/rex/misc/examples.nrel_data.html>`_
using the popular open-source library `xarray <https://docs.xarray.dev/en/stable/index.html>`_. You can learn
more about the benefits of using ``xarray`` `here <https://docs.xarray.dev/en/stable/getting-started-guide/why-xarray.html>`_.

Basic Usage
-----------

To read in an NREL data file, simply supply ``engine="rex"`` to the
`open_dataset <https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html#xarray-open-dataset>`_
function:

.. code-block:: python

    import os
    import xarray as xr
    from rex import TESTDATADIR

    WTK_2012_FP = os.path.join(TESTDATADIR, 'wtk', 'ri_100_wtk_2012.h5')

    ds = xr.open_dataset(WTK_2012_FP, engine="rex")
    ds

    <xarray.Dataset> Size: 32MB
    Dimensions:             (time: 8784, gid: 200)
    Coordinates:
        time_index          (time) datetime64[ns] 70kB ...
    * time                (time) datetime64[ns] 70kB 2012-01-01 ... 2012-12-31T...
    * gid                 (gid) int64 2kB 0 1 2 3 4 5 ... 194 195 196 197 198 199
        latitude            (gid) float32 800B ...
        longitude           (gid) float32 800B ...
        country             (gid) |S13 3kB ...
        state               (gid) |S4 800B ...
        county              (gid) |S22 4kB ...
        timezone            (gid) int16 400B ...
        elevation           (gid) int16 400B ...
        offshore            (gid) int16 400B ...
    Data variables:
        pressure_0m         (time, gid) uint16 4MB ...
        pressure_100m       (time, gid) uint16 4MB ...
        pressure_200m       (time, gid) uint16 4MB ...
        temperature_100m    (time, gid) int16 4MB ...
        temperature_80m     (time, gid) int16 4MB ...
        winddirection_100m  (time, gid) uint16 4MB ...
        winddirection_80m   (time, gid) uint16 4MB ...
        windspeed_100m      (time, gid) uint16 4MB ...
        windspeed_80m       (time, gid) uint16 4MB ...




